<!DOCTYPE html>
<html>
<head>
    <title>Zalando.nl - Checkout</title>
    <style>
        body { margin: 0; font-family: Arial, sans-serif; background: #f0f0f0; overflow: hidden; }
        /* Fake Webshop Achtergrond */
        .webshop { padding: 40px; filter: blur(2px); pointer-events: none; }
        .cart-item { background: white; padding: 20px; margin-bottom: 10px; border-radius: 8px; display: flex; justify-content: space-between; }
        
        /* De AI "Honey" Popup */
        .ai-popup { 
            position: fixed; top: 20px; right: 20px; width: 320px; 
            background: white; border-radius: 16px; box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            padding: 20px; border: 2px solid #3b82f6; animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn { from { transform: translateX(400px); } to { transform: translateX(0); } }
        
        .status { font-weight: bold; color: #3b82f6; margin-bottom: 15px; display: flex; align-items: center; }
        .loader { border: 3px solid #f3f3f3; border-top: 3px solid #3b82f6; border-radius: 50%; width: 20px; height: 20px; animation: spin 1s linear infinite; margin-right: 10px; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        
        .code-list { font-family: monospace; font-size: 12px; color: #666; }
        .code-item { padding: 5px 0; border-bottom: 1px solid #eee; }
        .success-msg { color: #10b981; font-weight: bold; display: none; margin-top: 10px; }
    </style>
    <script>
        setTimeout(() => { document.getElementById('c1').style.color = 'red'; document.getElementById('c1').innerHTML += ' - Failed'; }, 800);
        setTimeout(() => { document.getElementById('c2').style.color = 'red'; document.getElementById('c2').innerHTML += ' - Expired'; }, 1600);
        setTimeout(() => { 
            document.getElementById('c3').style.color = '#10b981'; 
            document.getElementById('c3').innerHTML += ' - APPLIED (€5.00 OFF)';
            document.querySelector('.loader').style.display = 'none';
            document.getElementById('success').style.display = 'block';
        }, 2500);
        
        // Doorsturen naar Stripe na de simulatie
        setTimeout(() => { document.getElementById('final-form').submit(); }, 4500);
    </script>
</head>
<body>
    <div class="webshop">
        <h1>Jouw Winkelmandje</h1>
        <div class="cart-item"><span>Nike Air Max</span> <strong>€120,00</strong></div>
        <div class="cart-item"><span>Zomer Shirt</span> <strong>€30,00</strong></div>
        <hr>
        <div style="text-align: right;">Total: €150,00</div>
    </div>

    <div class="ai-popup">
        <div class="status"><div class="loader"></div> AI Proxy is scannen...</div>
        <div class="code-list">
            <div class="code-item" id="c1">Trying code: SAVE20</div>
            <div class="code-item" id="c2">Trying code: WELCOME2024</div>
            <div class="code-item" id="c3">Trying code: AI_SPECIAL_5</div>
        </div>
        <div id="success" class="success-msg">Best deal found! Omleiden naar veilige betaling...</div>
        
        <form id="final-form" action="/create-checkout-session" method="POST" style="display:none;">
            <input type="hidden" name="type" value="simulation">
        </form>
    </div>
</body>
</html>
